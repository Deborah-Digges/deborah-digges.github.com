{"componentChunkName":"component---src-templates-blog-template-js","path":"/2020/10/03/github-actions-gatsby-deploy/","result":{"data":{"markdownRemark":{"html":"<p>I’ve been on a fun learning journey with Gatsby over the last few weeks. So far, I’ve <a href=\"https://deborah-digges.github.io/2020/09/16/Jekyll-to-Gatsby\">migrated my old Jekyll blog to Gatsby</a>, and created a pipeline that continuously deploys it to GitHub Pages. For creating the CD pipeline, I used Travis CI which I talked about at length in my <a href=\"https://deborah-digges.github.io/2020/09/24/gatsby-deploy\">previous blog post</a>.</p>\n<h2>Introducing... GitHub Actions</h2>\n<p>GitHub has been putting a lot of effort into extending its platform to support repository workflows out-of-the-box.</p>\n<blockquote>\n<p>GitHub Actions is your workflow: built by you, run by us.</p>\n</blockquote>\n<p>What this means is that instead of having my builds run on an external CI server like Travis CI, the GitHub platform itself now supports these capabilities.</p>\n<p>Actions has been in the works for a couple of years now, with the team at GitHub continuously seeking and iterating on community feedback:</p>\n<ul>\n<li>The <a href=\"https://github.blog/2018-10-16-future-of-software/\">Limited Public Beta</a> was announced in late 2018 at GitHub Universe.</li>\n<li>The <a href=\"https://github.blog/2019-08-08-github-actions-now-supports-ci-cd/\">Public Beta</a> was announced in August 2019 with support for CI/CD, custom events, and suggested workflows.</li>\n<li>GitHub Actions was made <a href=\"https://github.blog/2019-11-13-universe-day-one/\">Generally Available</a> in November 2019 at GitHub Universe.</li>\n<li><a href=\"https://enterprise.github.com/releases/2.22.0/notes\">Beta for GitHub Enterprise</a> was launched in  September 2020.</li>\n</ul>\n<h2>Why GitHub Actions?</h2>\n<p>I had a perfectly functioning CD pipeline running in Travis CI.</p>\n<p>The problem? Another link in the chain that could fail, another third party tool I needed to monitor and track the status of, another line-item in my SaaS bill, another service my data flowed through and that I would need to report to my compliance team. You get it.</p>\n<p>Funnily enough, Travis CI was reporting degraded performance when I was trying to set it up for my blog, which made me question my sanity at first since I couldn't get it to work even after a couple of tries.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/071f1f0e7dd7525c4505b706bb7f9775/d8fc6/travis-ci-degraded-service.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACFklEQVQoz6WSS08TURSA+yPYuZYVAlsja+Jj4QITXbjQ+A/8G7LwGSFogsSwUELYmRgSCIhBxZaa8GidwkxnWtpiy7TTmWHazv08M6VANHHjSb57zj1n7nllEohU7RaVLR13K0ug5whbjchN0GrT6YT0RCl1agctxXEgbx2FVgnxW1FMkYiOqicBq0qQ0VCNJg3XJ7WZxnXdOInTbFKrHcWJtL19TLNAsx1iOA563UWvdpDasSSio9IIKTrgSpGO3D3P593cPHPzC7ycfMXU62lm3s6ysrrGyqc1FheXKHsuy2WDHyWPTEkRtFUvocI+hiNpP+6abqmGVK9Wa2i5PQ5KZYy8SbPpUjwocVCuEC2iLu/MOiRNaSagN7KMYR7yObnLVmaf7Z33ZLMb6LpFPm9QKBRkRBPLsjAMQ+w8e4bF+rbFctpkdsnk4USW4i//bORH4+NcGRlhdHSUoaFBhof6RQ90GRw4tYeHJXbpIv2Xx7hw9yMX7izQd/sDfVdfoGm5s4RG/pCNpEYyrYnOCj/ZSEXkYr7/wbeUztd0kS+bhZj1lIXnB92E8dr8VVnIBDgzwhthWpY4CfZT8T/7m8hvPxaedHX9OYRHqF6HXnkKO3OLhvaAunZfuEc9M4a9cw179/o/uHHyzU06QeGkw3M/6/9KlCvRM5QKT7Q6dz8DIQzb+L4n+LF2vBa1ZojthnTCbmO/AfJrDScEy6qXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Travis CI Degraded Service\"\n        title=\"Travis CI Degraded Service\"\n        src=\"/static/071f1f0e7dd7525c4505b706bb7f9775/5a190/travis-ci-degraded-service.png\"\n        srcset=\"/static/071f1f0e7dd7525c4505b706bb7f9775/772e8/travis-ci-degraded-service.png 200w,\n/static/071f1f0e7dd7525c4505b706bb7f9775/e17e5/travis-ci-degraded-service.png 400w,\n/static/071f1f0e7dd7525c4505b706bb7f9775/5a190/travis-ci-degraded-service.png 800w,\n/static/071f1f0e7dd7525c4505b706bb7f9775/c1b63/travis-ci-degraded-service.png 1200w,\n/static/071f1f0e7dd7525c4505b706bb7f9775/29007/travis-ci-degraded-service.png 1600w,\n/static/071f1f0e7dd7525c4505b706bb7f9775/d8fc6/travis-ci-degraded-service.png 2052w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>GitHub Actions provides some relief from these pitfalls:</p>\n<ul>\n<li>Avoids introducing a third party tool and prevents data from flowing through another service.</li>\n<li>Provides a <a href=\"https://docs.github.com/en/free-pro-team@latest/github/setting-up-and-managing-billing-and-payments-on-github/about-billing-for-github-actions#about-billing-for-github-actions\">lower pricing plan</a> than a separate service for CI/CD. It is free for public repositories and pay-as-you-go for private repositories.</li>\n<li>Allows the <strong>re-use</strong> of shared workflows. This point is especially important as it prevents developers from having to solve the same problems over and over again. Instead, public workflows create an <a href=\"https://github.com/marketplace?type=actions\">ecosystem of Actions</a> that developers can fork, edit, iterate, and improve upon, much like code.</li>\n</ul>\n<h2>How Does a Travis CI Build Work?</h2>\n<p>I’ve gone over how I configured my blog's GitHub repository to use Travis CI in my <a href=\"https://deborah-digges.github.io/2020/09/24/gatsby-deploy\">previous blog post</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e178f0254c50b1fe411174f710866daf/1dbe8/travis-toggle.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAWUlEQVQI132NUQrAIAxDvf/h9rNTDBlSpVbbaTYF97GPBR6EQBKXc8aAmV9KKRjqvU++WpmYYfcnrtZgqqi1wqWUEGMEESGEMP04WKW/QVbDdvg5KCKgp3sDkPuchQx7JbsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Travis CI Webhook\"\n        title=\"Travis CI Webhook\"\n        src=\"/static/e178f0254c50b1fe411174f710866daf/5a190/travis-toggle.png\"\n        srcset=\"/static/e178f0254c50b1fe411174f710866daf/772e8/travis-toggle.png 200w,\n/static/e178f0254c50b1fe411174f710866daf/e17e5/travis-toggle.png 400w,\n/static/e178f0254c50b1fe411174f710866daf/5a190/travis-toggle.png 800w,\n/static/e178f0254c50b1fe411174f710866daf/c1b63/travis-toggle.png 1200w,\n/static/e178f0254c50b1fe411174f710866daf/1dbe8/travis-toggle.png 1374w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>When I enabled my repository for builds in the Travis CI dashboard, it set up a Webhook configuration in the repository on Github.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/46c3fbd22aea4d0cf8bc156bcbab87fb/9e7e4/travis-ci-webhook.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7UlEQVQoz61Si26DMAzk/7+TCUK7dcqDvJzc7ABTtlF1UmvpFF9im/OJIWfCunr4EFBr/YucgRRRS0EF+K4Dc+kPMYKooPDl4H3AOL5BqQXEzYUbBUSEQsIJmfPEb5mRUmq5nFJjrcPl+t64xBBYmVouDdOsME0zZqVaPqobxkXjetPcaGCshdYaxhhohmUuEC4faQNFjfERHybh02VoF+Gcg1tX+JiQy7beWYglYlc0tm3VBta9uvfmKN5IPfe2h/i7N34P3Cw+8FPFPYVnijuF9Wn8WvmfMh7E8Aplhy1tZbws9pXz/sM+g962L9OQZH7/REJBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Travis CI Webhook\"\n        title=\"Travis CI Webhook\"\n        src=\"/static/46c3fbd22aea4d0cf8bc156bcbab87fb/5a190/travis-ci-webhook.png\"\n        srcset=\"/static/46c3fbd22aea4d0cf8bc156bcbab87fb/772e8/travis-ci-webhook.png 200w,\n/static/46c3fbd22aea4d0cf8bc156bcbab87fb/e17e5/travis-ci-webhook.png 400w,\n/static/46c3fbd22aea4d0cf8bc156bcbab87fb/5a190/travis-ci-webhook.png 800w,\n/static/46c3fbd22aea4d0cf8bc156bcbab87fb/c1b63/travis-ci-webhook.png 1200w,\n/static/46c3fbd22aea4d0cf8bc156bcbab87fb/29007/travis-ci-webhook.png 1600w,\n/static/46c3fbd22aea4d0cf8bc156bcbab87fb/9e7e4/travis-ci-webhook.png 2056w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>This configuration caused events generated on this repository to be pushed to a Travis CI hosted webhook, that triggered a build based on the steps defined in my <code>.travis.yml</code> file.</p>\n<h2>Using a GitHub Action to Trigger a Travis CI Build</h2>\n<p>This approach does not do much to improve my workflow as it only changes the integration point between GitHub and Travis CI.</p>\n<p>Instead of a Travis-hosted webhook that listens for Github events, the <a href=\"https://github.com/travis-ci/actions\">Travis-CI GitHub action</a> uses the <a href=\"https://github.com/travis-ci/actions/blob/master/create-build.js#L19\">Travis CI v3 api</a> to trigger a build on Travis CI in response to an event on Github.</p>\n<p>The dependency remains as do the problems related with it. People were quick to <a href=\"https://github.com/travis-ci/actions/issues/3\">catch on</a> though.</p>\n<h2>Using a GitHub Action to Deploy My Gatsby Site (Goodbye, Travis)</h2>\n<p>To eliminate the dependency on Travis CI, I began looking for a GitHub Action that could perform the same functionality as my Travis CI build and deploy pipeline: run a build, run some tests (that don't exist yet), push the generated site to the <code>gh-pages</code> branch of my GitHub repository.</p>\n<p>It didn't prove too hard to find a community-build action for this purpose and integrate my repository with it:</p>\n<ul>\n<li>First off, I disabled the Travis CI build in my <a href=\"https://travis-ci.org/account/repositories\">Travis CI settings</a> which disabled the corresponding Webhook in Github.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3b7b4f38433804f634cc0d95c1f76c02/0e904/disable-travis-ci-build.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.499999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAS0lEQVQI14WOQQpAIQhEu/9hBRM0KZ2PQS3a/Lca5TnYzAxjDKgqTo4IFJmJl7Nba13X3e9N671DREBEYOadS/4rnHPuB8qtjpqLD82UnWlP3IufAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Travis CI Disable Toggle\"\n        title=\"Travis CI Disable Toggle\"\n        src=\"/static/3b7b4f38433804f634cc0d95c1f76c02/5a190/disable-travis-ci-build.png\"\n        srcset=\"/static/3b7b4f38433804f634cc0d95c1f76c02/772e8/disable-travis-ci-build.png 200w,\n/static/3b7b4f38433804f634cc0d95c1f76c02/e17e5/disable-travis-ci-build.png 400w,\n/static/3b7b4f38433804f634cc0d95c1f76c02/5a190/disable-travis-ci-build.png 800w,\n/static/3b7b4f38433804f634cc0d95c1f76c02/c1b63/disable-travis-ci-build.png 1200w,\n/static/3b7b4f38433804f634cc0d95c1f76c02/0e904/disable-travis-ci-build.png 1384w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/813ddf6d34b47f1260d53da3b999ce55/1307b/disabled-travis-ci-hook.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA70lEQVQoz61S2U7DMBDM/39ShXhBQvwCQn3hMnHdxFXiM7an3q3SuvACFSONfGh29rA7ay1KKci5gOC9B91doWQgp6rJrCWyNgQYY893xO6r7zFNEwtov7m7x/PLFqM+QKk91H6EHA0Ok4Fzjg0oobWO44ilyd0ppbAsCx+EEHh4fMK7UDA+1WDDgSEmpJS5wpbeecRKbmKtUGtdxencxi1YY9lwGAbORqA1NXP6LVtjNqSWvwtuMWVDKXfQ9QHWufzV6Ich/gnNt5EQvcLb5w6vHz2k0jyClfQvYzztU6VxEXoOmG3E7BJsoLlfKjwC/vLDFWDSHIgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Travis CI Disabled Webhook\"\n        title=\"Travis CI Disabled Webhook\"\n        src=\"/static/813ddf6d34b47f1260d53da3b999ce55/5a190/disabled-travis-ci-hook.png\"\n        srcset=\"/static/813ddf6d34b47f1260d53da3b999ce55/772e8/disabled-travis-ci-hook.png 200w,\n/static/813ddf6d34b47f1260d53da3b999ce55/e17e5/disabled-travis-ci-hook.png 400w,\n/static/813ddf6d34b47f1260d53da3b999ce55/5a190/disabled-travis-ci-hook.png 800w,\n/static/813ddf6d34b47f1260d53da3b999ce55/c1b63/disabled-travis-ci-hook.png 1200w,\n/static/813ddf6d34b47f1260d53da3b999ce55/29007/disabled-travis-ci-hook.png 1600w,\n/static/813ddf6d34b47f1260d53da3b999ce55/1307b/disabled-travis-ci-hook.png 3000w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>I then searched on the <a href=\"https://github.com/marketplace\">GitHub Actions Marketplace</a> for a <a href=\"https://github.com/marketplace/actions/gatsby-publish\">suitable action</a> to deploy a Gatsby site to GitHub Pages.</li>\n<li>I added the action to a YAML file in my repository under <a href=\"https://github.com/Deborah-Digges/deborah-digges.github.io/blob/master/.github/workflows/build_and_publish.yml\">.github/workflows</a>.\n<div id=\"gist105696602\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-build_and_publish-yml\" class=\"file my-2\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-yaml  \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-build_and_publish-yml-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">name</span>: <span class=\"pl-s\">Gatsby Publish</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-build_and_publish-yml-LC2\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-build_and_publish-yml-LC3\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">on</span>:</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-build_and_publish-yml-LC4\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">push</span>:</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-build_and_publish-yml-LC5\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">branches</span>:</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-build_and_publish-yml-LC6\" class=\"blob-code blob-code-inner js-file-line\">      <span class=\"pl-s\">master</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-build_and_publish-yml-LC7\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-build_and_publish-yml-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=\"pl-ent\">jobs</span>:</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-build_and_publish-yml-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=\"pl-ent\">build</span>:</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-build_and_publish-yml-LC10\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">runs-on</span>: <span class=\"pl-s\">ubuntu-latest</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-build_and_publish-yml-LC11\" class=\"blob-code blob-code-inner js-file-line\">    <span class=\"pl-ent\">steps</span>:</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-build_and_publish-yml-LC12\" class=\"blob-code blob-code-inner js-file-line\">      - <span class=\"pl-ent\">uses</span>: <span class=\"pl-s\">actions/checkout@v1</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-build_and_publish-yml-LC13\" class=\"blob-code blob-code-inner js-file-line\">      - <span class=\"pl-ent\">uses</span>: <span class=\"pl-s\">enriikke/gatsby-gh-pages-action@v2</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L14\" class=\"blob-num js-line-number\" data-line-number=\"14\"></td>\n        <td id=\"file-build_and_publish-yml-LC14\" class=\"blob-code blob-code-inner js-file-line\">        <span class=\"pl-ent\">with</span>:</td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L15\" class=\"blob-num js-line-number\" data-line-number=\"15\"></td>\n        <td id=\"file-build_and_publish-yml-LC15\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">access-token</span>: <span class=\"pl-s\">${{ secrets.ACCESS_TOKEN }}</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-build_and_publish-yml-L16\" class=\"blob-num js-line-number\" data-line-number=\"16\"></td>\n        <td id=\"file-build_and_publish-yml-LC16\" class=\"blob-code blob-code-inner js-file-line\">          <span class=\"pl-ent\">deploy-branch</span>: <span class=\"pl-s\">gh-pages</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/Deborah-Digges/6e4f6572b7e75925ed8aa3f5411cbcc8/raw/6817baac61bfa72f4a74e05489ccfc352d88e5a8/build_and_publish.yml\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/Deborah-Digges/6e4f6572b7e75925ed8aa3f5411cbcc8#file-build_and_publish-yml\">build_and_publish.yml</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></li>\n</ul>\n<p>I was a little disappointed with this step as I was hoping for a one-click option in the marketplace which would allow me to commit a workflow file to my repository.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2353cbd6c58a877158005fbd5d4199d1/a2b91/github-action-setup.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABwElEQVQoz4WRTUsbURSG88esGpM0BrddSd1JV3VZEZs6k7mf83FnEoRSd0UJ0mr8A1mVgstu/QViSiuJiokt5e25d2IwKjrwcs85M+c57z1TKC8uoVStoVhZRPGlVQ3z5SoqtSUnW7f5rWaLFbwolieamS9hhs65UhVzCxUUkjSDlcmaEMpA6hRcCxy2uzj50cPPX2fo9wdONzd/cNDpIJACcZZO+nLlcSE2KeIkRbbdxJvXHt6u+tj03qPb/YaL/jUGFwMMh0OMRiPYZ3tvB6/WVrC8vop1VkeateAYYxVug4QmeL7AB4/h3cYGvh8f42r0F6e9c/TOr3D2+xL/CHh4dASfc+cwMmYKNg0k+0JpcKUQcImPn3bQ3v+CvfY+dj/vuvjrQQdpswXGBZQOJ313GVPAgD60MBVGaFDsB8zVGuOTSwWvEcAnbda3oKP4aaAgkM/JoSCn5EBFCV0rRZjkyuMMMs6gTYty+0Ntf/Y4UNLEwIJiM5EkqIzyU1POdQymjYvDxDzjMCKHdC3bZAFTYJImgAwTek+gO30PgeOidVhntB+fo94Q8Oj6TIW0itjJDmFCYssPaJfM7fo+8D8aBxEWWW1DdgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Action Setup\"\n        title=\"GitHub Action Setup\"\n        src=\"/static/2353cbd6c58a877158005fbd5d4199d1/5a190/github-action-setup.png\"\n        srcset=\"/static/2353cbd6c58a877158005fbd5d4199d1/772e8/github-action-setup.png 200w,\n/static/2353cbd6c58a877158005fbd5d4199d1/e17e5/github-action-setup.png 400w,\n/static/2353cbd6c58a877158005fbd5d4199d1/5a190/github-action-setup.png 800w,\n/static/2353cbd6c58a877158005fbd5d4199d1/c1b63/github-action-setup.png 1200w,\n/static/2353cbd6c58a877158005fbd5d4199d1/29007/github-action-setup.png 1600w,\n/static/2353cbd6c58a877158005fbd5d4199d1/a2b91/github-action-setup.png 3360w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>To give the workflow the ability to push to my repository, I added the environment variable <code>ACCESS_TOKEN</code> to my GitHub repository <code>Secrets</code> with a personal <a href=\"https://github.com/settings/tokens/\">GitHub token</a>.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/512b8b1d82b5b581eb6907e5e7959211/a2b91/github-repository-secrets.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA6ElEQVQoz51S2Y7CMAzk/7+UBQJtruaetZ2ktOzDSlgauXZ8TCe5tNZQa8UWgniOU8rQWu8x+1IKas7iGTkXxJRgjB11kNoL0D+UesI5xyFCiLhef/B4KNxud/G8QBsDYx2cDwQP7zfEGKW/2xjIG5Zlkc2TkXYGq9PSwMjELhEj62hIKtIeY0I5DNwZ8gCllDTMg9qq4NP673UpRIZB4jyQkuu6SmJi2jF3zH/aPN8ZPl+vITCza38G/YcTQzZPIrNW39qJIWvB+gUS23p6CoSNBaeL4Mtg8fk8j9huvcaHDB8rcnkz/AWvO3bVrNgTGAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Repository Secrets Tab\"\n        title=\"GitHub Repository Secrets Tab\"\n        src=\"/static/512b8b1d82b5b581eb6907e5e7959211/5a190/github-repository-secrets.png\"\n        srcset=\"/static/512b8b1d82b5b581eb6907e5e7959211/772e8/github-repository-secrets.png 200w,\n/static/512b8b1d82b5b581eb6907e5e7959211/e17e5/github-repository-secrets.png 400w,\n/static/512b8b1d82b5b581eb6907e5e7959211/5a190/github-repository-secrets.png 800w,\n/static/512b8b1d82b5b581eb6907e5e7959211/c1b63/github-repository-secrets.png 1200w,\n/static/512b8b1d82b5b581eb6907e5e7959211/29007/github-repository-secrets.png 1600w,\n/static/512b8b1d82b5b581eb6907e5e7959211/a2b91/github-repository-secrets.png 3360w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>With all that out of the way, I was able to trigger my first build by merging to the master branch of my repository!</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/02a009e66ca075db37ba33e464f8e813/a2b91/github-actions-progress.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABXklEQVQoz22Ry1LCQBBF86OKAkI0hYos/BRW/oqlv+DaQndUyEvD5DGvXKdnSAiRqbo1mab79O3GC5bPmC9WGPsPGN8+YhYscbd4QnC/wo2/wGji42p61GgytzG6L65nuByTfExN7mQWwNsmBcKsQJpXCFMGxhg4r1HVwoijrMw3F+42b6UbKyGVjXEhUXOXSzEP0Lbgc8uwCSt8fOeIMoYsTVGbJK01lCIpezdN04lO/62NPAqmTOHlLcT6NcL6PcNXWKIsmOksIQ1IyqOElMaVsM7EQX2o13Y6OVogimPk+8JCOHeFJVe2Sc3dKn5+czvqCbC13e6GRGPGcYLdLrI3KwoD5eDS/U6HVrA3+6bcs8D+XiwwSZCmGSrjhHYpaVQDlMrl0JsatcCW4w2X2wGNMxJBoyh2LhUB9QF46hBDh//WaBLdP6ysXKGt6wz0xz3rsC3uIK164KGGE/4B00btN0idgrwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"GitHub Actions Build in Progress\"\n        title=\"GitHub Actions Build in Progress\"\n        src=\"/static/02a009e66ca075db37ba33e464f8e813/5a190/github-actions-progress.png\"\n        srcset=\"/static/02a009e66ca075db37ba33e464f8e813/772e8/github-actions-progress.png 200w,\n/static/02a009e66ca075db37ba33e464f8e813/e17e5/github-actions-progress.png 400w,\n/static/02a009e66ca075db37ba33e464f8e813/5a190/github-actions-progress.png 800w,\n/static/02a009e66ca075db37ba33e464f8e813/c1b63/github-actions-progress.png 1200w,\n/static/02a009e66ca075db37ba33e464f8e813/29007/github-actions-progress.png 1600w,\n/static/02a009e66ca075db37ba33e464f8e813/a2b91/github-actions-progress.png 3360w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Reaping the Benefits</h2>\n<p>Even with this small project, I’ve reaped the benefits of GitHub Actions:</p>\n<ul>\n<li>My blog's build process no longer has a dependency on Travis CI. I was able to disable the repository on Travis CI and also delete my account.</li>\n<li>I was able to <a href=\"https://github.com/Deborah-Digges/deborah-digges.github.io/commit/d421e5570f9c2c9f68e59f2ebc3078fd65d642ba\">remove the code</a> and knowledge about how to deploy to Github Pages within my project by reusing a shared workflow built by someone else.</li>\n</ul>\n<p>I’m excited to have explored GitHub actions and what it’s capable of by re-using an existing workflow. Join me in my next blog post to explore how to write a custom workflow from scratch!</p>","frontmatter":{"title":"Streamlining Gatsby Deployments with GitHub Actions"},"fields":{"date":"2020-10-03","slug":"2020/10/03/github-actions-gatsby-deploy/"}}},"pageContext":{"slug":"2020/10/03/github-actions-gatsby-deploy/","date":"2020-10-03"}},"staticQueryHashes":[]}